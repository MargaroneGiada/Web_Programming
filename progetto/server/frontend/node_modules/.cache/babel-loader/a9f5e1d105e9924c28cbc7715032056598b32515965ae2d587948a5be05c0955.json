{"ast":null,"code":"import React,{useEffect,useState}from'react';import axios from'axios';import io from'socket.io-client';import{useNavigate,useLocation}from'react-router-dom';import Navbar from'./Navbar';import Footer from'./Footer';import CarouselComponent from'./CarouselComponent';import\"slick-carousel/slick/slick.css\";import\"slick-carousel/slick/slick-theme.css\";import getSocket from'./Socket';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const EventDetails=()=>{const token=sessionStorage.getItem('token');const[event,setEvent]=useState(null);const[user,setUser]=useState(null);const[organizer,setOrganizer]=useState(false);const[totalPartecipants,setTotalPartecipants]=useState('');const[isPartecipating,setIsPartecipating]=useState(false);const[comments,setComments]=useState([]);const[error,setError]=useState('');const[formData,setFormData]=useState({text:''});const location=useLocation();const navigate=useNavigate();const socket=getSocket();useEffect(()=>{const queryParams=new URLSearchParams(location.search);const eventId=queryParams.get('id');if(eventId){axios.get(`/api/events/${eventId}`,{headers:{authorization:token}}).then(response=>{setEvent(response.data);fetchEventComments(eventId);}).catch(error=>{setError('Failed to load event details');console.error(error);});axios.get('/api/auth/verify',{headers:{authorization:token}}).then(response=>{if(response.status!==200){navigate('/homepage');}else{setUser(response.data.user);fetchPartecipationStatus(response.data.user._id);fetchPartecipantNumber();}}).catch(error=>{console.error('Verification error:',error);navigate('/homepage');});axios.get('/api/auth/verifyOrganizer',{headers:{authorization:token}}).then(response=>{if(response.status!==200){setOrganizer(false);}else{setOrganizer(true);}}).catch(error=>{console.error('Verification error:',error);setOrganizer(false);});}else{setError('Event ID not found');}// Connect to socket and listen for new comments\nsocket.on('connect',()=>{console.log('Socket connected:',socket.id);});socket.on('newComment',savedComment=>{console.log('New comment received:',savedComment);// Log the received comment\nsetComments(prevComments=>{const updatedComments=[...prevComments,savedComment];updatedComments.sort((a,b)=>new Date(b.date)-new Date(a.date));return updatedComments;});});return()=>{console.log('Socket disconnected');socket.off('newComment');};},[location,token,navigate]);const fetchPartecipationStatus=async userId=>{const queryParams=new URLSearchParams(location.search);const eventId=queryParams.get('id');try{const response=await axios.get('/api/partecipate/check',{params:{eventId:eventId,userId:userId}});setIsPartecipating(response.data.partecipa);}catch(error){console.error('Errore nel recupero dello stato di partecipazione:',error);}};const fetchEventComments=async eventId=>{try{const response=await axios.get('/api/events/commentsOf',{headers:{event:eventId}});const comments=response.data.comments||[];comments.sort((a,b)=>new Date(b.date)-new Date(a.date));setComments(comments);}catch(error){setError('Failed to load comments');console.error(error);}};const fetchPartecipantNumber=async()=>{const queryParams=new URLSearchParams(location.search);const eventId=queryParams.get('id');try{const response=await axios.get('/api/partecipate/count',{params:{eventId:eventId}});setTotalPartecipants(response.data.total);}catch(error){console.error('Errore nel recupero dello stato di partecipazione:',error);}};const handleChange=e=>{const{name,value}=e.target;setFormData(prevData=>({...prevData,[name]:value}));};const handlePartecipate=async e=>{e.preventDefault();const queryParams=new URLSearchParams(location.search);const eventId=queryParams.get('id');try{const response=await axios.post(`/api/partecipate`,{dati:{eventId:eventId,userId:user._id}},{headers:{authorization:token}});if(response.status===200){fetchPartecipationStatus(user._id);fetchPartecipantNumber();}else{console.error('Errore durante la partecipazione:',response);alert('Impossibile confermare la partecipazione.');}}catch(error){console.error('Error:',error);alert('Errore nella richiesta di partecipazione.');}};const handleNotPartecipate=async e=>{e.preventDefault();const queryParams=new URLSearchParams(location.search);const eventId=queryParams.get('id');try{const response=await axios.post(`/api/partecipate/stop`,{dati:{eventId:eventId,userId:user._id}});if(response.status===200){fetchPartecipationStatus(user._id);fetchPartecipantNumber();}else{console.error('Errore durante la non partecipazione:',response);alert('Impossibile confermare la non partecipazione.');}}catch(error){console.error('Error:',error);alert('Errore nella richiesta di non partecipazione.');}};const handleDeleteEvent=async e=>{e.preventDefault();const queryParams=new URLSearchParams(location.search);const eventId=queryParams.get('id');try{const response=await axios.delete(`/api/events/delete`,{headers:{authorization:sessionStorage.getItem('token')},params:{eventId:eventId}});if(response.status===200){alert(\"Evento eliminato\");navigate('/organizzatore');}else{console.error('Errore durante l\\'eliminazione:',response);alert('Impossibile confermare l\\'eliminaziione.');}}catch(error){console.error('Error:',error);alert('Errore nella richiesta di eliminazione.');}};const handleSubmit=async e=>{e.preventDefault();const queryParams=new URLSearchParams(location.search);const comment={text:formData.text,user:user._id,event:queryParams.get('id'),data:new Date()};try{const response=await axios.post('/api/events/addComment',comment);console.log(response);if(response.status===201){socket.emit('sendComment',response.data);setFormData({text:''});}else{console.error('Error adding comment:',response);}}catch(error){console.error('Error:',error);}};const handleProfile=userId=>{const goto='/user?id='+userId;navigate(goto);};if(error){return/*#__PURE__*/_jsx(\"div\",{children:error});}if(!event){return/*#__PURE__*/_jsx(\"div\",{className:\"d-flex justify-content-center align-items-center min-vh-100 bg-dark\",children:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"div\",{className:\"loader\"})})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"fullpage\",children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsx(\"div\",{className:\"container px-lg-5\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"futureEvents p-4 p-lg-5 text-white text-center\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"row text-white mb-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-lg-2 col-12 d-flex justify-content-start\",children:/*#__PURE__*/_jsx(\"a\",{href:\"javascript:history.back()\",className:\"btn btn-outline-light d-flex align-items-center\",children:/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",width:\"35\",height:\"35\",fill:\"currentColor\",className:\"bi bi-arrow-return-left\",viewBox:\"0 0 16 16\",children:/*#__PURE__*/_jsx(\"path\",{fillRule:\"evenodd\",d:\"M14.5 1.5a.5.5 0 0 1 .5.5v4.8a2.5 2.5 0 0 1-2.5 2.5H2.707l3.347 3.346a.5.5 0 0 1-.708.708l-4.2-4.2a.5.5 0 0 1 0-.708l4-4a.5.5 0 1 1 .708.708L2.707 8.3H12.5A1.5 1.5 0 0 0 14 6.8V2a.5.5 0 0 1 .5-.5\"})})})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-lg-8 col-12\",children:/*#__PURE__*/_jsx(\"h1\",{className:\"display-5 fw-bold text-white text-capitalize\",children:event.name})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-lg-2 col-12 d-flex justify-content-end\",children:isPartecipating?/*#__PURE__*/_jsxs(\"button\",{type:\"button\",className:\"btn btn-secondary d-flex align-items-center\",onClick:handleNotPartecipate,children:[/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",width:\"20\",height:\"20\",fill:\"currentColor\",className:\"bi bi-heart me-2\",viewBox:\"0 0 16 16\",children:/*#__PURE__*/_jsx(\"path\",{d:\"m8 2.748-.717-.737C5.6.281 2.514.878 1.4 3.053c-.523 1.023-.641 2.5.314 4.385.92 1.815 2.834 3.989 6.286 6.357 3.452-2.368 5.365-4.542 6.286-6.357.955-1.886.838-3.362.314-4.385C13.486.878 10.4.28 8.717 2.01zM8 15C-7.333 4.868 3.279-3.04 7.824 1.143q.09.083.176.171a3 3 0 0 1 .176-.17C12.72-3.042 23.333 4.867 8 15\"})}),/*#__PURE__*/_jsx(\"span\",{children:\"Ci sono\"})]}):/*#__PURE__*/_jsxs(\"button\",{type:\"button\",className:\"btn btn-outline-light d-flex align-items-center\",onClick:handlePartecipate,children:[/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",width:\"20\",height:\"20\",fill:\"currentColor\",className:\"bi bi-heart me-2\",viewBox:\"0 0 16 16\",children:/*#__PURE__*/_jsx(\"path\",{d:\"m8 2.748-.717-.737C5.6.281 2.514.878 1.4 3.053c-.523 1.023-.641 2.5.314 4.385.92 1.815 2.834 3.989 6.286 6.357 3.452-2.368 5.365-4.542 6.286-6.357.955-1.886.838-3.362.314-4.385C13.486.878 10.4.28 8.717 2.01zM8 15C-7.333 4.868 3.279-3.04 7.824 1.143q.09.083.176.171a3 3 0 0 1 .176-.17C12.72-3.042 23.333 4.867 8 15\"})}),/*#__PURE__*/_jsx(\"span\",{children:\"Partecipa\"})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-lg-6 col-12 mb-4\",children:/*#__PURE__*/_jsx(\"div\",{className:\"eventDetail carousel slide carousel-fade col-lg-6 col-sm-12 mb-4 mb-lg-0 p-0\",id:\"carouselBasicExample\",\"data-mdb-ride\":\"carousel\",children:/*#__PURE__*/_jsx(CarouselComponent,{images:event.images})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-lg-6 col-12\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"event-details text-start text-white overflow-auto p-4\",children:[/*#__PURE__*/_jsxs(\"h5\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Numero di partecipanti:\"}),\" \",totalPartecipants]}),/*#__PURE__*/_jsxs(\"h5\",{className:\"text-capitalize\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Categoria:\"}),\" \",event.category]}),/*#__PURE__*/_jsxs(\"h5\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Data:\"}),\" \",new Date(event.date).toLocaleDateString('it-IT',{year:'numeric',month:'numeric',day:'numeric'}),/*#__PURE__*/_jsx(\"strong\",{children:\" \\u2002Ora:\"}),\" \",new Date(event.date).toLocaleTimeString('it-IT',{hour:'2-digit',minute:'2-digit'})]}),/*#__PURE__*/_jsxs(\"h5\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Luogo:\"}),\" \",event.location]}),event.description&&/*#__PURE__*/_jsx(\"h5\",{className:\"overflow-auto\",children:event.description})]}),/*#__PURE__*/_jsx(\"form\",{onSubmit:handleSubmit,className:\"mt-3 text-white bg-dark p-3 rounded\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col-12\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-floating mb-3\",children:[/*#__PURE__*/_jsx(\"textarea\",{className:\"form-control details border-white inserisciCommento bg-dark text-white\",name:\"text\",id:\"text\",placeholder:\"Commento...\",rows:\"3\",value:formData.text,onChange:handleChange,required:true}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"text\",className:\"form-label details text-white details\",children:\"Commento...\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"d-flex justify-content-end\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-danger\",children:\"Send\"})})]})})]})]}),organizer&&event.organizer===user._id&&/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-danger text-white col-12 mt-4\",onClick:handleDeleteEvent,children:\"Elimina Evento\"}),/*#__PURE__*/_jsxs(\"section\",{className:\"\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"m-5 mb-0 text-warning fw-bold\",children:\"Commenti\"}),/*#__PURE__*/_jsx(\"div\",{className:\"container py-5\",children:comments.length>0?comments.map((comment,index)=>/*#__PURE__*/_jsx(\"div\",{className:\"row d-flex justify-content-center mb-3\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-md-12 col-lg-10\",children:/*#__PURE__*/_jsx(\"div\",{className:\"comment card shadow\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex mb-3 \",children:[/*#__PURE__*/_jsx(\"a\",{className:\"text-warning fw-bold ps-5\",onClick:()=>handleProfile(comment.user._id),children:comment.user.username||'Anonimo'}),/*#__PURE__*/_jsx(\"span\",{className:\"text-warning ms-auto\",children:new Date(comment.date).toLocaleDateString('it-IT',{year:'numeric',month:'numeric',day:'numeric'})})]}),/*#__PURE__*/_jsx(\"p\",{className:\"mb-0 bg-light p-3 rounded\",children:comment.text})]})})})},index)):/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"h6\",{className:\"fw-light text-black\",children:\"Ancora nessun commento\"})})})]})]})}),/*#__PURE__*/_jsx(Footer,{})]});};export default EventDetails;","map":{"version":3,"names":["React","useEffect","useState","axios","io","useNavigate","useLocation","Navbar","Footer","CarouselComponent","getSocket","jsx","_jsx","jsxs","_jsxs","EventDetails","token","sessionStorage","getItem","event","setEvent","user","setUser","organizer","setOrganizer","totalPartecipants","setTotalPartecipants","isPartecipating","setIsPartecipating","comments","setComments","error","setError","formData","setFormData","text","location","navigate","socket","queryParams","URLSearchParams","search","eventId","get","headers","authorization","then","response","data","fetchEventComments","catch","console","status","fetchPartecipationStatus","_id","fetchPartecipantNumber","on","log","id","savedComment","prevComments","updatedComments","sort","a","b","Date","date","off","userId","params","partecipa","total","handleChange","e","name","value","target","prevData","handlePartecipate","preventDefault","post","dati","alert","handleNotPartecipate","handleDeleteEvent","delete","handleSubmit","comment","emit","handleProfile","goto","children","className","href","xmlns","width","height","fill","viewBox","fillRule","d","type","onClick","images","category","toLocaleDateString","year","month","day","toLocaleTimeString","hour","minute","description","onSubmit","placeholder","rows","onChange","required","htmlFor","length","map","index","username"],"sources":["/media/giada/OS/Users/Asus/OneDrive - Università degli Studi di Catania/_Università/Web Programming/Web_Programming/progetto/server/frontend/src/content/EventDetails.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport io from 'socket.io-client';\nimport { useNavigate, useLocation } from 'react-router-dom';\nimport Navbar from './Navbar';\nimport Footer from './Footer';\nimport CarouselComponent from './CarouselComponent';\nimport \"slick-carousel/slick/slick.css\";\nimport \"slick-carousel/slick/slick-theme.css\";\nimport getSocket from './Socket';\n\nconst EventDetails = () => {\n    const token = sessionStorage.getItem('token');\n    const [event, setEvent] = useState(null);\n    const [user, setUser] = useState(null);\n    const [organizer, setOrganizer] = useState(false);\n    const [totalPartecipants, setTotalPartecipants] = useState('');\n    const [isPartecipating, setIsPartecipating] = useState(false);\n    const [comments, setComments] = useState([]);\n    const [error, setError] = useState('');\n    const [formData, setFormData] = useState({\n        text: '',\n    });\n    const location = useLocation();\n    const navigate = useNavigate();\n    const socket = getSocket();\n\n    useEffect(() => {\n        const queryParams = new URLSearchParams(location.search);\n        const eventId = queryParams.get('id');\n\n        if (eventId) {\n            axios.get(`/api/events/${eventId}`, { headers: { authorization: token } })\n                .then(response => {\n                    setEvent(response.data);\n                    fetchEventComments(eventId);\n                })\n                .catch(error => {\n                    setError('Failed to load event details');\n                    console.error(error);\n                });\n\n            axios.get('/api/auth/verify', { headers: { authorization: token } })\n                .then(response => {\n                    if (response.status !== 200) {\n                        navigate('/homepage');\n                    } else {\n                        setUser(response.data.user);\n                        fetchPartecipationStatus(response.data.user._id);\n                        fetchPartecipantNumber();\n                    }\n                })\n                .catch(error => {\n                    console.error('Verification error:', error);\n                    navigate('/homepage');\n                });\n            axios.get('/api/auth/verifyOrganizer', { headers: { authorization: token } })\n                .then(response => {\n                    if (response.status !== 200) {\n                        setOrganizer(false);\n                    } else {\n                        setOrganizer(true);\n                    }\n                })\n                .catch(error => {\n                    console.error('Verification error:', error);\n                    setOrganizer(false);\n                });\n\n        } else {\n            setError('Event ID not found');\n        }\n\n        // Connect to socket and listen for new comments\n        socket.on('connect', () => {\n            console.log('Socket connected:', socket.id);\n        });\n\n        socket.on('newComment', (savedComment) => {\n            console.log('New comment received:', savedComment); // Log the received comment\n            setComments(prevComments => {\n                const updatedComments = [...prevComments, savedComment];\n                updatedComments.sort((a, b) => new Date(b.date) - new Date(a.date));\n                return updatedComments;\n            });\n        });\n\n        return () => {\n            console.log('Socket disconnected');\n            socket.off('newComment');\n        };\n    }, [location, token, navigate]);\n\n    const fetchPartecipationStatus = async (userId) => {\n        const queryParams = new URLSearchParams(location.search);\n        const eventId = queryParams.get('id');\n\n        try {\n            const response = await axios.get('/api/partecipate/check', {\n                params: {\n                    eventId: eventId,\n                    userId: userId\n                }\n            });\n            setIsPartecipating(response.data.partecipa);\n        } catch (error) {\n            console.error('Errore nel recupero dello stato di partecipazione:', error);\n        }\n    };\n\n    const fetchEventComments = async (eventId) => {\n        try {\n            const response = await axios.get('/api/events/commentsOf', { headers: { event: eventId } });\n            const comments = response.data.comments || [];\n            comments.sort((a, b) => new Date(b.date) - new Date(a.date));\n            setComments(comments);\n        } catch (error) {\n            setError('Failed to load comments');\n            console.error(error);\n        }\n    };\n\n    const fetchPartecipantNumber = async () => {\n        const queryParams = new URLSearchParams(location.search);\n        const eventId = queryParams.get('id');\n\n        try {\n            const response = await axios.get('/api/partecipate/count', {\n                params: {\n                    eventId: eventId\n                }\n            });\n            setTotalPartecipants(response.data.total);\n        } catch (error) {\n            console.error('Errore nel recupero dello stato di partecipazione:', error);\n        }\n    };\n\n    const handleChange = (e) => {\n        const { name, value } = e.target;\n        setFormData(prevData => ({\n            ...prevData,\n            [name]: value,\n        }));\n    };\n\n    const handlePartecipate = async (e) => {\n        e.preventDefault();\n        const queryParams = new URLSearchParams(location.search);\n        const eventId = queryParams.get('id');\n\n        try {\n            const response = await axios.post(`/api/partecipate`,\n                {\n                    dati: {\n                        eventId: eventId,\n                        userId: user._id\n                    }\n                }, { headers: { authorization: token } });\n\n            if (response.status === 200) {\n                fetchPartecipationStatus(user._id);\n                fetchPartecipantNumber();\n            } else {\n                console.error('Errore durante la partecipazione:', response);\n                alert('Impossibile confermare la partecipazione.');\n            }\n        } catch (error) {\n            console.error('Error:', error);\n            alert('Errore nella richiesta di partecipazione.');\n        }\n    };\n\n    const handleNotPartecipate = async (e) => {\n        e.preventDefault();\n        const queryParams = new URLSearchParams(location.search);\n        const eventId = queryParams.get('id');\n\n        try {\n            const response = await axios.post(`/api/partecipate/stop`,\n                {\n                    dati: {\n                        eventId: eventId,\n                        userId: user._id\n                    }\n                });\n\n            if (response.status === 200) {\n                fetchPartecipationStatus(user._id);\n                fetchPartecipantNumber();\n            } else {\n                console.error('Errore durante la non partecipazione:', response);\n                alert('Impossibile confermare la non partecipazione.');\n            }\n        } catch (error) {\n            console.error('Error:', error);\n            alert('Errore nella richiesta di non partecipazione.');\n        }\n    };\n\n    const handleDeleteEvent = async (e) => {\n        e.preventDefault();\n        const queryParams = new URLSearchParams(location.search);\n        const eventId = queryParams.get('id');\n\n        try {\n            const response = await axios.delete(`/api/events/delete`,\n                {\n                    headers: { authorization: sessionStorage.getItem('token') },\n                    params: { eventId: eventId }\n                });\n\n            if (response.status === 200) {\n                alert(\"Evento eliminato\");\n                navigate('/organizzatore');\n            } else {\n                console.error('Errore durante l\\'eliminazione:', response);\n                alert('Impossibile confermare l\\'eliminaziione.');\n            }\n        } catch (error) {\n            console.error('Error:', error);\n            alert('Errore nella richiesta di eliminazione.');\n        }\n    };\n\n    const handleSubmit = async (e) => {\n        e.preventDefault();\n        const queryParams = new URLSearchParams(location.search);\n        const comment = {\n            text: formData.text,\n            user: user._id,\n            event: queryParams.get('id'),\n            data: new Date()\n        };\n\n        try {\n            const response = await axios.post('/api/events/addComment', comment);\n            console.log(response);\n            if (response.status === 201) {\n                socket.emit('sendComment', response.data);\n                setFormData({ text: '' });\n            } else {\n                console.error('Error adding comment:', response);\n            }\n        } catch (error) {\n            console.error('Error:', error);\n        }\n    };\n\n    const handleProfile = (userId) => {\n        const goto = '/user?id=' + userId;\n        navigate(goto);\n    }\n    if (error) {\n        return <div>{error}</div>;\n    }\n\n    if (!event) {\n        return (\n          <div className=\"d-flex justify-content-center align-items-center min-vh-100 bg-dark\">\n            <div >\n              <div className=\"loader\"></div>\n            </div>\n          </div>\n        );\n      }\n\n    return (\n        <div className=\"fullpage\">\n            <Navbar />\n\n            <div className=\"container px-lg-5\">\n                <div className=\"futureEvents p-4 p-lg-5 text-white text-center\">\n                    <div className=\"row text-white mb-4\">\n                        <div className=\"col-lg-2 col-12 d-flex justify-content-start\">\n                            <a href=\"javascript:history.back()\" className=\"btn btn-outline-light d-flex align-items-center\">\n                                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"35\" height=\"35\" fill=\"currentColor\" className=\"bi bi-arrow-return-left\" viewBox=\"0 0 16 16\">\n                                    <path fillRule=\"evenodd\" d=\"M14.5 1.5a.5.5 0 0 1 .5.5v4.8a2.5 2.5 0 0 1-2.5 2.5H2.707l3.347 3.346a.5.5 0 0 1-.708.708l-4.2-4.2a.5.5 0 0 1 0-.708l4-4a.5.5 0 1 1 .708.708L2.707 8.3H12.5A1.5 1.5 0 0 0 14 6.8V2a.5.5 0 0 1 .5-.5\" />\n                                </svg>\n                            </a>\n                        </div>\n                        <div className=\"col-lg-8 col-12\">\n                            <h1 className=\"display-5 fw-bold text-white text-capitalize\">{event.name}</h1>\n                        </div>\n                        <div className=\"col-lg-2 col-12 d-flex justify-content-end\">\n                            {isPartecipating ? (\n                                <button type=\"button\" className=\"btn btn-secondary d-flex align-items-center\" onClick={handleNotPartecipate}>\n                                    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" fill=\"currentColor\" className=\"bi bi-heart me-2\" viewBox=\"0 0 16 16\">\n                                        <path d=\"m8 2.748-.717-.737C5.6.281 2.514.878 1.4 3.053c-.523 1.023-.641 2.5.314 4.385.92 1.815 2.834 3.989 6.286 6.357 3.452-2.368 5.365-4.542 6.286-6.357.955-1.886.838-3.362.314-4.385C13.486.878 10.4.28 8.717 2.01zM8 15C-7.333 4.868 3.279-3.04 7.824 1.143q.09.083.176.171a3 3 0 0 1 .176-.17C12.72-3.042 23.333 4.867 8 15\" />\n                                    </svg>\n                                    <span>Ci sono</span>\n                                </button>\n                            ) : (\n                                <button type=\"button\" className=\"btn btn-outline-light d-flex align-items-center\" onClick={handlePartecipate}>\n                                    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" fill=\"currentColor\" className=\"bi bi-heart me-2\" viewBox=\"0 0 16 16\">\n                                        <path d=\"m8 2.748-.717-.737C5.6.281 2.514.878 1.4 3.053c-.523 1.023-.641 2.5.314 4.385.92 1.815 2.834 3.989 6.286 6.357 3.452-2.368 5.365-4.542 6.286-6.357.955-1.886.838-3.362.314-4.385C13.486.878 10.4.28 8.717 2.01zM8 15C-7.333 4.868 3.279-3.04 7.824 1.143q.09.083.176.171a3 3 0 0 1 .176-.17C12.72-3.042 23.333 4.867 8 15\" />\n                                    </svg>\n                                    <span>Partecipa</span>\n                                </button>\n                            )}\n                        </div>\n                    </div>\n\n                    <div className=\"row\">\n                        <div className=\"col-lg-6 col-12 mb-4\">\n                            <div className=\"eventDetail carousel slide carousel-fade col-lg-6 col-sm-12 mb-4 mb-lg-0 p-0\" id=\"carouselBasicExample\" data-mdb-ride=\"carousel\">\n                                <CarouselComponent images={event.images} />\n                            </div>\n                        </div>\n                        <div className=\"col-lg-6 col-12\">\n                            <div className=\"event-details text-start text-white overflow-auto p-4\">\n                                <h5><strong>Numero di partecipanti:</strong> {totalPartecipants}</h5>\n                                <h5 className='text-capitalize'><strong>Categoria:</strong> {event.category}</h5>\n                                <h5><strong>Data:</strong> {new Date(event.date).toLocaleDateString('it-IT', { year: 'numeric', month: 'numeric', day: 'numeric' })}\n                                    <strong> &ensp;Ora:</strong> {new Date(event.date).toLocaleTimeString('it-IT', { hour: '2-digit', minute: '2-digit' })}\n                                </h5>\n                                <h5><strong>Luogo:</strong> {event.location}</h5>\n                                {event.description && <h5 className='overflow-auto'>{event.description}</h5>}\n                            </div>\n                            <form onSubmit={handleSubmit} className='mt-3 text-white bg-dark p-3 rounded'>\n                                <div className=\"col-12\">\n                                    <div className=\"form-floating mb-3\">\n                                        <textarea\n                                            className=\"form-control details border-white inserisciCommento bg-dark text-white\"\n                                            name=\"text\"\n                                            id=\"text\"\n                                            placeholder=\"Commento...\"\n                                            rows=\"3\"\n                                            value={formData.text}\n                                            onChange={handleChange}\n                                            required\n                                        ></textarea>\n                                        <label htmlFor=\"text\" className=\"form-label details text-white details\">\n                                            Commento...\n                                        </label>\n                                    </div>\n                                    <div className=\"d-flex justify-content-end\">\n                                        <button type=\"submit\" className=\"btn btn-danger\">\n                                            Send\n                                        </button>\n                                    </div>\n                                </div>\n                            </form>\n\n                        </div>\n                    </div>\n\n                    {organizer && event.organizer === user._id && (\n                        <button className='btn btn-danger text-white col-12 mt-4' onClick={handleDeleteEvent}>Elimina Evento</button>\n                    )}\n\n                    <section className=''>\n                        <h4 className=\"m-5 mb-0 text-warning fw-bold\">Commenti</h4>\n                        <div className=\"container py-5\">\n                            {comments.length > 0 ? (\n                                comments.map((comment, index) => (\n                                    <div key={index} className=\"row d-flex justify-content-center mb-3\">\n                                        <div className=\"col-md-12 col-lg-10\">\n                                            <div className=\"comment card shadow\">\n                                                <div className=\"card-body\">\n                                                    <div className=\"d-flex mb-3 \">\n                                                        <a className=\"text-warning fw-bold ps-5\" onClick={() => handleProfile(comment.user._id)}>\n                                                            {comment.user.username || 'Anonimo'}\n                                                        </a>\n                                                        <span className=\"text-warning ms-auto\">\n                                                            {new Date(comment.date).toLocaleDateString('it-IT', { year: 'numeric', month: 'numeric', day: 'numeric' })}\n                                                        </span>\n                                                    </div>\n                                                    <p className=\"mb-0 bg-light p-3 rounded\">{comment.text}</p>\n                                                </div>\n                                            </div>\n                                        </div>\n                                    </div>\n                                ))\n                            ) : (\n                                <div>\n                                    <h6 className='fw-light text-black'>Ancora nessun commento</h6>\n                                </div>\n                            )}\n                        </div>\n                    </section>\n                </div>\n            </div>\n\n            <Footer />\n        </div>\n\n    );\n}\n\nexport default EventDetails;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}