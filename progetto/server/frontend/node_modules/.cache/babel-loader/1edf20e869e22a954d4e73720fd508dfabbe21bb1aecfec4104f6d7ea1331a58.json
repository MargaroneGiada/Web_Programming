{"ast":null,"code":"var _jsxFileName = \"/media/giada/OS/Users/Asus/OneDrive - Universit\\xE0 degli Studi di Catania/_Universit\\xE0/Web Programming/Web_Programming/progetto/server/frontend/src/content/Navbar.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport axios from 'axios';\nimport { useNavigate, NavLink } from 'react-router-dom';\nimport getSocket from './Socket';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Navbar() {\n  _s();\n  const [user, setUser] = useState(null);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [searchResults, setSearchResults] = useState([]);\n  const [dropdownVisible, setDropdownVisible] = useState(false);\n  const searchRef = useRef(null);\n  const navigate = useNavigate();\n  const socket = getSocket();\n  useEffect(() => {\n    const token = sessionStorage.getItem('token');\n    if (!token) {\n      navigate('/login');\n    } else {\n      axios.get('/api/auth/verify', {\n        headers: {\n          authorization: token\n        }\n      }).then(response => {\n        if (response.status !== 200) {\n          navigate('/login');\n        } else {\n          setUser(response.data.user);\n        }\n      }).catch(error => {\n        console.error('Verification error:', error);\n        navigate('/login');\n      });\n    }\n    const handleClickOutside = event => {\n      if (searchRef.current && !searchRef.current.contains(event.target)) {\n        setDropdownVisible(false);\n      }\n    };\n    document.addEventListener('mousedown', handleClickOutside);\n  }, [navigate]);\n  const logout = () => {\n    sessionStorage.removeItem('token');\n    if (socket) {\n      socket.disconnect();\n    }\n    navigate('/login');\n  };\n  const handleSearch = event => {\n    event.preventDefault();\n    axios.get('/api/events/search', {\n      params: {\n        search: searchTerm\n      }\n    }).then(response => {\n      setSearchResults(response.data);\n      setDropdownVisible(true);\n    }).catch(error => {\n      console.error('Search error:', error);\n      setDropdownVisible(false);\n    });\n  };\n  const handleInputChange = event => {\n    setSearchTerm(event.target.value);\n    if (event.target.value === '') {\n      setSearchResults([]);\n      setDropdownVisible(false);\n    } else {\n      handleSearch(event);\n    }\n  };\n  if (!user) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Caricamento in corso...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"nav\", {\n      className: \"navbar navbar-expand-lg navbar-dark bg-dark fixed-top shadow\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container-fluid\",\n        children: [/*#__PURE__*/_jsxDEV(NavLink, {\n          className: \"navbar-brand\",\n          to: \"/homepage\",\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: \"/assets/img/logoNuovo.png\",\n            alt: \"Logo\",\n            className: \"d-inline-block align-text-top\",\n            style: {\n              width: '50px',\n              height: '50px'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"navbar-toggler\",\n          type: \"button\",\n          \"data-bs-toggle\": \"collapse\",\n          \"data-bs-target\": \"#navbarSupportedContent\",\n          \"aria-controls\": \"navbarSupportedContent\",\n          \"aria-expanded\": \"false\",\n          \"aria-label\": \"Toggle navigation\",\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"navbar-toggler-icon\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"collapse navbar-collapse\",\n          id: \"navbarSupportedContent\",\n          children: [/*#__PURE__*/_jsxDEV(\"ul\", {\n            className: \"navbar-nav me-auto mb-2 mb-lg-0\",\n            children: [/*#__PURE__*/_jsxDEV(\"li\", {\n              className: \"nav-item\",\n              children: /*#__PURE__*/_jsxDEV(NavLink, {\n                to: \"/homepage\",\n                className: \"nav-link\",\n                children: \"Home\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 91,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 90,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              className: \"nav-item dropdown\",\n              children: [/*#__PURE__*/_jsxDEV(NavLink, {\n                to: \"/categorie\",\n                className: \"nav-link dropdown-toggle\",\n                role: \"button\",\n                \"data-bs-toggle\": \"dropdown\",\n                \"aria-expanded\": \"false\",\n                children: \"Categorie\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 96,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n                className: \"dropdown-menu\",\n                children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                  children: /*#__PURE__*/_jsxDEV(NavLink, {\n                    to: \"/categorie?c=tutto\",\n                    className: \"dropdown-item\",\n                    children: \"Tutte\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 100,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 100,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                  children: /*#__PURE__*/_jsxDEV(NavLink, {\n                    to: \"/categorie?c=cultura\",\n                    className: \"dropdown-item\",\n                    children: \"Cultura\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 101,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 101,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                  children: /*#__PURE__*/_jsxDEV(NavLink, {\n                    to: \"/categorie?c=concerti\",\n                    className: \"dropdown-item\",\n                    children: \"Concerti\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 102,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 102,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                  children: /*#__PURE__*/_jsxDEV(NavLink, {\n                    to: \"/categorie?c=mostre\",\n                    className: \"dropdown-item\",\n                    children: \"Mostre\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 103,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 103,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                  children: /*#__PURE__*/_jsxDEV(NavLink, {\n                    to: \"/categorie?c=party\",\n                    className: \"dropdown-item\",\n                    children: \"Party\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 104,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 104,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                  children: /*#__PURE__*/_jsxDEV(NavLink, {\n                    to: \"/categorie?c=sport\",\n                    className: \"dropdown-item\",\n                    children: \"Sport\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 105,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 105,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 99,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 95,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              className: \"nav-item\",\n              children: /*#__PURE__*/_jsxDEV(NavLink, {\n                to: \"/mappa\",\n                className: \"nav-link\",\n                children: \"Mappa\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 109,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 108,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              className: \"nav-item\",\n              children: /*#__PURE__*/_jsxDEV(NavLink, {\n                to: \"/profilo\",\n                className: \"nav-link\",\n                children: \"Profilo\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 114,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 113,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              className: \"nav-item\",\n              children: /*#__PURE__*/_jsxDEV(NavLink, {\n                to: \"/organizzatore\",\n                className: `nav-link ${user.organizer ? '' : 'disabled'}`,\n                \"aria-disabled\": !user.organizer,\n                children: \"Organizzatore\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 119,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 118,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n            className: \"d-flex position-relative\",\n            role: \"search\",\n            onSubmit: handleSearch,\n            ref: searchRef,\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              className: \"form-control me-2\",\n              type: \"search\",\n              placeholder: \"Search\",\n              \"aria-label\": \"Search\",\n              value: searchTerm,\n              onChange: handleInputChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 125,\n              columnNumber: 15\n            }, this), dropdownVisible && searchResults.length > 0 && /*#__PURE__*/_jsxDEV(\"ul\", {\n              className: \"dropdown-menu position-absolute w-100 list-unstyled bg-light rounded\",\n              children: searchResults.map((event, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n                children: /*#__PURE__*/_jsxDEV(\"a\", {\n                  className: \"dropdown-item text-dark fw-bold\",\n                  href: `/evento?id=${event._id}`,\n                  children: event.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 137,\n                  columnNumber: 23\n                }, this)\n              }, index, false, {\n                fileName: _jsxFileName,\n                lineNumber: 136,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 134,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n            className: \"navbar-nav mb-2 mb-lg-0 align-items-lg-center\",\n            children: /*#__PURE__*/_jsxDEV(\"li\", {\n              className: \"nav-item\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: logout,\n                className: \"btn btn-danger ms-lg-5\",\n                children: \"LogOut\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 147,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 146,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 145,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"m-5 p-2\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 7\n    }, this), \" \"]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 79,\n    columnNumber: 5\n  }, this);\n}\n_s(Navbar, \"bLfxx9MlI9F3JwaKcJMSBenGGmk=\", false, function () {\n  return [useNavigate];\n});\n_c = Navbar;\nexport default Navbar;\nvar _c;\n$RefreshReg$(_c, \"Navbar\");","map":{"version":3,"names":["React","useState","useEffect","useRef","axios","useNavigate","NavLink","getSocket","jsxDEV","_jsxDEV","Navbar","_s","user","setUser","searchTerm","setSearchTerm","searchResults","setSearchResults","dropdownVisible","setDropdownVisible","searchRef","navigate","socket","token","sessionStorage","getItem","get","headers","authorization","then","response","status","data","catch","error","console","handleClickOutside","event","current","contains","target","document","addEventListener","logout","removeItem","disconnect","handleSearch","preventDefault","params","search","handleInputChange","value","children","fileName","_jsxFileName","lineNumber","columnNumber","className","to","src","alt","style","width","height","type","id","role","organizer","onSubmit","ref","placeholder","onChange","length","map","index","href","_id","name","onClick","_c","$RefreshReg$"],"sources":["/media/giada/OS/Users/Asus/OneDrive - Università degli Studi di Catania/_Università/Web Programming/Web_Programming/progetto/server/frontend/src/content/Navbar.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport axios from 'axios';\nimport { useNavigate, NavLink } from 'react-router-dom';\nimport getSocket from './Socket';\n\nfunction Navbar() {\n  const [user, setUser] = useState(null);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [searchResults, setSearchResults] = useState([]);\n  const [dropdownVisible, setDropdownVisible] = useState(false);\n  const searchRef = useRef(null);\n  const navigate = useNavigate();\n  const socket = getSocket();\n\n  useEffect(() => {\n    const token = sessionStorage.getItem('token');\n    if (!token) {\n      navigate('/login');\n    } else {\n      axios.get('/api/auth/verify', { headers: { authorization: token } })\n        .then(response => {\n          if (response.status !== 200) {\n            navigate('/login');\n          } else {\n            setUser(response.data.user);\n          }\n        })\n        .catch(error => {\n          console.error('Verification error:', error);\n          navigate('/login');\n        });\n    }\n\n    const handleClickOutside = (event) => {\n      if (searchRef.current && !searchRef.current.contains(event.target)) {\n        setDropdownVisible(false);\n      }\n    };\n\n    document.addEventListener('mousedown', handleClickOutside);\n  }, [navigate]);\n\n  const logout = () => {\n    sessionStorage.removeItem('token');\n    if (socket) {\n      socket.disconnect();\n    }\n    navigate('/login');\n  };\n\n  const handleSearch = (event) => {\n    event.preventDefault();\n    axios.get('/api/events/search', { params: { search: searchTerm } })\n      .then(response => {\n        setSearchResults(response.data);\n        setDropdownVisible(true);\n      })\n      .catch(error => {\n        console.error('Search error:', error);\n        setDropdownVisible(false);\n      });\n  };\n\n  const handleInputChange = (event) => {\n    setSearchTerm(event.target.value);\n    if (event.target.value === '') {\n      setSearchResults([]);\n      setDropdownVisible(false);\n    } else {\n      handleSearch(event);\n    }\n  };\n\n  if (!user) {\n    return <div>Caricamento in corso...</div>;\n  }\n\n  return (\n    <div>\n      <nav className=\"navbar navbar-expand-lg navbar-dark bg-dark fixed-top shadow\">\n        <div className=\"container-fluid\">\n          <NavLink className=\"navbar-brand\" to=\"/homepage\">\n            <img src=\"/assets/img/logoNuovo.png\" alt=\"Logo\" className=\"d-inline-block align-text-top\" style={{ width: '50px', height: '50px' }} />\n          </NavLink>\n          <button className=\"navbar-toggler\" type=\"button\" data-bs-toggle=\"collapse\" data-bs-target=\"#navbarSupportedContent\" aria-controls=\"navbarSupportedContent\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\n            <span className=\"navbar-toggler-icon\"></span>\n          </button>\n          <div className=\"collapse navbar-collapse\" id=\"navbarSupportedContent\">\n            <ul className=\"navbar-nav me-auto mb-2 mb-lg-0\">\n              <li className=\"nav-item\">\n                <NavLink to=\"/homepage\" className=\"nav-link\">\n                  Home\n                </NavLink>\n              </li>\n              <li className=\"nav-item dropdown\">\n                <NavLink to=\"/categorie\" className=\"nav-link dropdown-toggle\" role=\"button\" data-bs-toggle=\"dropdown\" aria-expanded=\"false\">\n                  Categorie\n                </NavLink>\n                <ul className=\"dropdown-menu\">\n                  <li><NavLink to=\"/categorie?c=tutto\" className=\"dropdown-item\">Tutte</NavLink></li>\n                  <li><NavLink to=\"/categorie?c=cultura\" className=\"dropdown-item\">Cultura</NavLink></li>\n                  <li><NavLink to=\"/categorie?c=concerti\" className=\"dropdown-item\">Concerti</NavLink></li>\n                  <li><NavLink to=\"/categorie?c=mostre\" className=\"dropdown-item\">Mostre</NavLink></li>\n                  <li><NavLink to=\"/categorie?c=party\" className=\"dropdown-item\">Party</NavLink></li>\n                  <li><NavLink to=\"/categorie?c=sport\" className=\"dropdown-item\">Sport</NavLink></li>\n                </ul>\n              </li>\n              <li className=\"nav-item\">\n                <NavLink to=\"/mappa\" className=\"nav-link\">\n                  Mappa\n                </NavLink>\n              </li>\n              <li className=\"nav-item\">\n                <NavLink to=\"/profilo\" className=\"nav-link\">\n                  Profilo\n                </NavLink>\n              </li>\n              <li className=\"nav-item\">\n                <NavLink to=\"/organizzatore\" className={`nav-link ${user.organizer ? '' : 'disabled'}`} aria-disabled={!user.organizer}>\n                  Organizzatore\n                </NavLink>\n              </li>\n            </ul>\n            <form className=\"d-flex position-relative\" role=\"search\" onSubmit={handleSearch} ref={searchRef}>\n              <input\n                className=\"form-control me-2\"\n                type=\"search\"\n                placeholder=\"Search\"\n                aria-label=\"Search\"\n                value={searchTerm}\n                onChange={handleInputChange}\n              />\n              {dropdownVisible && searchResults.length > 0 && (\n                <ul className=\"dropdown-menu position-absolute w-100 list-unstyled bg-light rounded\">\n                  {searchResults.map((event, index) => (\n                    <li key={index}>\n                      <a className=\"dropdown-item text-dark fw-bold\" href={`/evento?id=${event._id}`}>\n                        {event.name}\n                      </a>\n                    </li>\n                  ))}\n                </ul>\n              )}\n            </form>\n            <ul className=\"navbar-nav mb-2 mb-lg-0 align-items-lg-center\">\n              <li className=\"nav-item\">\n                <button onClick={logout} className=\"btn btn-danger ms-lg-5\">\n                  LogOut\n                </button>\n              </li>\n            </ul>\n          </div>\n        </div>\n      </nav>\n      <div className=\"m-5 p-2\"></div> {/* Spacing for navbar */}\n    </div>\n  );\n}\n\nexport default Navbar;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}